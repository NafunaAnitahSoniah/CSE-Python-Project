{% extends 'base_agent.html' %}
{% block title %}Add Feed Request | Young4ChickS{% endblock %}
{% block content %}
<header class="page-header">
    <h1>Add Feed Request</h1>
    <div class="subtitle">Create a feed allocation for a farmer</div>
</header>
<section class="card fade-in">
    <h4><i class="fas fa-seedling"></i> Feed Request Form</h4>
    <form method="post" class="form-grid">
        {% csrf_token %}
        <div class="form-group">
            <label for="feed_stock">Select Feed Stock:</label>
            <select class="form-control" name="feed_stock" id="feed_stock" required>
                <option value="">Select Feed Stock</option>
                {% for stock in feed_stocks %}
                <option value="{{ stock.id }}" data-price="{{ stock.selling_price }}">
                    {{ stock.feed_name }} - {{ stock.feed_type }} ({{ stock.feed_brand }}) - Available: {{ stock.feed_quantity }} bags
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="chick_request">Chick Request:</label>
            <select class="form-control" name="chick_request" id="chick_request" required>
                <option value="">Select Chick Request</option>
                {% for request in chick_requests %}
                <option value="{{ request.id }}">{{ request.chick_request_id }} (Farmer: {{ request.farmer.farmer_name }})</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="bags_allocated">Bags Allocated:</label>
            <input class="form-control" type="number" name="bags_allocated" id="bags_allocated" min="1" required>
        </div>
        <div class="form-group">
            <label for="amount_due">Amount Due (UgSh):</label>
            <input class="form-control" type="number" name="amount_due" id="amount_due" min="0" required>
        </div>
        <div class="form-group">
            <label for="payment_due_date">Payment Due Date:</label>
            <input class="form-control" type="date" name="payment_due_date" id="payment_due_date" required>
        </div>
        <div class="form-group">
            <label for="payment_status">Payment Status:</label>
            <select class="form-control" name="payment_status" id="payment_status" required>
                <option value="">Select Status</option>
                <option value="pending">Pending</option>
                <option value="paid">Paid</option>
            </select>
        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Submit Feed Request</button>
            <a href="/salesagentdashboard/" class="btn btn-outline"><i class="fas fa-arrow-left"></i> Back to Dashboard</a>
        </div>
    </form>
</section>
{% endblock %}
